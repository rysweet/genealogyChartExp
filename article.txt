
Write
3

Ryan Sweet
Changing Text Color based on the Background in JavaScript

Colton Shawn O'Connor
Colton Shawn O'Connor
·
Follow
2 min read
·
Apr 2, 2021





Hello again friends. While I was working on my Color Palette app, I came into an issue of readability. I wanted to add more color to my app by having a card background color match the most prominent color of an image. If you want to see how I got the color out of an image you can read my previous to blog posts. Here is house you extract the color on the frontend, and here is how you extract the color on the backend.
Now that we have the most prominent color of an image, we need to figure out a scalable number to determine if the text on top needs to be white or black. If we are working with an RGB value, we can extract a single value with the following code.
const brightness = Math.round(((parseInt(color[0]) * 299)(parseInt(color[1]) * 587) + (parseInt(color[2]) * 114)) / 1000)
This will return a number between 0 and 255, 0 being black, and 255 being white. Every number in between is a different shade of gray. Now with this you can play around with what number you think is the best to switch the text color at, but I found 150 to be just the right amount of brightness to switch the text color to black.

So now we have the means to get a brightness value, we can write the following function. If you are working in React or React Native, you can use state to set the text color, and write the following function.
function checkBrightness(color){
  const brightness = Math.round(((parseInt(color[0]) * 299) +   (parseInt(color[1]) * 587) + (parseInt(color[2]) * 114)) / 1000)
  if(brightness < 150){
    setTextColor("rgb(255,255,255)")
  } else {
    setTextColor("rgb(0,0,0)")
  }
}
In vanilla JS you can write the following function to do pretty much the same thing, where $div is the card DOM element where the photo is, and colorArray is an array of 3 RGB values.
function checkBrightness(colorArray, $div){
  const thergb = "rgb(" + colorArray[0] + "," + colorArray[1] + "," + colorArray[2] + ")";
  $div.style.backgroundColor = thergb
  const brightness = Math.round(((parseInt(colorArray[0]) * 299) + (parseInt(colorArray[1]) * 587) + (parseInt(colorArray[2]) * 114)) / 1000)
  if(brightness < 150){
    $div.style.color = "white"
  } else {
    $div.style.color = "black"
  }
}
Now you are dynamically changing your text color! This is a great way to add some more color to your app without risking readability. If you want to check out the apps where I implemented this you can find my JavaScript implementation here, and my React Native Implementation here.
Thank you for reading. If you would like to check out any of my projects, my GitHub username is bigdumbbaby. You can also reach my at my linkedIn.
Thank You!




Colton Shawn O'Connor
Written by Colton Shawn O'Connor
0 Followers
·
1 Following
Full Stack Software Developer
Follow
No responses yet
Ryan Sweet
Ryan Sweet
What are your thoughts?﻿
Cancel
Respond
Respond

Also publish to my profile
More from Colton Shawn O'Connor
Getting Image’s Color Palette in Ruby on Rails
Colton Shawn O'Connor
Colton Shawn O'Connor
Getting Image’s Color Palette in Ruby on Rails
In my last blog post I wrote about a project where I got the color palette of different movie posters. I wanted to expand that idea…
Apr 2, 2021


Get color palette of an image using ColorThief
Colton Shawn O'Connor
Colton Shawn O'Connor
Get color palette of an image using ColorThief
Hello again friends. I have been working through coding bootcamp and I realized my greatest weakness has been design. I always seem to get…
Apr 1, 2021


Want to Dynamically Change Music in a Ruby CLI App?
Colton Shawn O'Connor
Colton Shawn O'Connor
Want to Dynamically Change Music in a Ruby CLI App?
Hello Friends. I wanted to go back and revisit the first project I made with another friend from the bootcamp, Brett Needham. In this…
Mar 15, 2021


Looking Back On What Lead Me to Start Coding Bootcamp
Colton Shawn O'Connor
Colton Shawn O'Connor
Looking Back On What Lead Me to Start Coding Bootcamp
Jumping hunting is very draining, especially during isolation. I graduated with a degree in Electrical and Computer Engineering from CU…
Mar 14, 2021


See all from Colton Shawn O'Connor
Recommended from Medium
Jeff Bezos Says the 1-Hour Rule Makes Him Smarter. New Neuroscience Says He’s Right
Jessica Stillman
Jessica Stillman
Jeff Bezos Says the 1-Hour Rule Makes Him Smarter. New Neuroscience Says He’s Right
Jeff Bezos’s morning routine has long included the one-hour rule. New neuroscience says yours probably should too.

Oct 30, 2024
22K
627


Flutter Vs React Native : Performance Benchmarks you can’t miss ! 🔥⚡️
Natesh Bhat
Natesh Bhat
Flutter Vs React Native : Performance Benchmarks you can’t miss ! 🔥⚡️
Enough Talk ! Numbers are here ! 🔥 Get detailed memory, CPU , app size and frame rate comparisons between Flutter and React Native
Aug 13, 2024
3.3K
54


Lists
a butterfly being released from someone’s hand
a piece of embroidery thats says “This Too Shall Pass But Like Holy Fuck”
Staff picks
808 stories
·
1615 saves



Stories to Help You Level-Up at Work
19 stories
·
933 saves



Self-Improvement 101
20 stories
·
3281 saves



Productivity 101
20 stories
·
2764 saves
An pro photo of woman with some street art being edited on Pixelmator.
The Startup
In
The Startup
by
Jano le Roux
Apple Finally Got a Permanent Replacement for Adobe Photoshop and Illustrator
I just canceled my Adobe subscription. And (maybe) you should too.

Nov 27, 2024
6.3K
183


Seamless Microsoft Login in React Native with MSAL Integration
Expert App Devs
Expert App Devs
Seamless Microsoft Login in React Native with MSAL Integration
Learn how to integrate Microsoft authentication in your React Native app using react-native-msal for secure Azure AD login.
Dec 23, 2024
1


Examples of modal sheets inside applications (iOS and Android)
UX Collective
In
UX Collective
by
Ksenia Toloknova
Sheet, dialog, or snackbar — what should a designer go for?
Identifying established patterns in the market.
Oct 24, 2023
2.9K
15


7 Hottest UI Component Libraries of 2025 — Copy and Paste
Prototypr
In
Prototypr
by
Elizabeth Alli
7 Hottest UI Component Libraries of 2025 — Copy and Paste
Meet the new generation of copy and paste, open-source, UI component libraries that make design and development 10x faster (and prettier)!

Jan 7
474
9


See more recommendations
Help
Status
About
Careers
Press
Blog
Privacy
Terms
Text to speech
Teams